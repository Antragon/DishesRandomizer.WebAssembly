@page "/randomizer"

<RadzenCard class="randomizer">
    <h2>Planned Meals</h2>
    <div class="randomizer-card">
        <RadzenCheckBox class="randomizer__checkbox"
                        TValue="bool?"
                        @bind-value="@_randomize"
                        Change="UpdateAllCheckboxes" />
        <img class="randomizer__dice @(_dice.Clickable ? "clickable" : "not-clickable")"
             src="images/dice_black.png"
             alt="dice_black.png"
             @onclick="ShuffleAll"
             style="transform: rotate(@(_dice.Rotation)deg);" />
        <div class="flexible-space"></div>
        <img class="randomizer__meal-button clickable"
             src="images/edit-list.png"
             alt="edit-list.png"
             @onclick="OpenDishes" />
        <div class="fixed-space"></div>
    </div>
    <div class="randomizer__container">
        @foreach (var day in Enum.GetValues<Day>()) {
            <RandomizerCard
                @ref="CardRef"
                Day="day" />
        }
    </div>
    @if (_displayDishes) {
        <div class="modal">
            <Meals />
            <RadzenCard class="dialog">
                <RadzenButton Text="Done" ButtonStyle="@ButtonStyle.Secondary" Click="CloseDishes" />
            </RadzenCard>
        </div>
    }
</RadzenCard>